!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).loglevelServerSend=t()}(this,(function(){"use strict";return function(e,t){if(!e||!e.methodFactory)throw new Error("loglevel instance has to be specified in order to be extended");var n=e,o=t&&t.url||"http://localhost:8000/main/log",i=t&&t.callOriginal||!1,r=t&&t.prefix,f=t&&t.headers||{"Content-Type":"text/plain"},a=n.methodFactory,l=[],s=!1;n.methodFactory=function(e,t){var n=a(e,t);return function(t){t="string"==typeof r?r+t:"function"==typeof r?r(e,t):e+": "+t,i&&n(t),l.push(t),d()}},n.setLevel(n.levels.WARN);var d=function(){if(l.length&&!s){s=!0;var e=l.shift(),t=new XMLHttpRequest;if(t.open("POST",o,!0),f)Object.entries(f).map((e=>t.setRequestHeader(e[0],e[1])));t.onreadystatechange=function(){4==t.readyState&&(s=!1,setTimeout(d,0))},t.send(e)}}}}));
